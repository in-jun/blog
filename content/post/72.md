+++
title = 'DNS의 동작 원리와 구조를 알아보자'
date = 2025-02-20T12:15:59+09:00의
categories = ["Network", "DNS"]
tags = ["DNS", "네트워크", "도메인", "네임서버"]
description = 'DNS의 기본 개념과 동작 원리, 계층 구조를 설명한다.'
draft = false
+++

DNS(Domain Name System)는 인터넷에서 도메인 이름을 IP 주소로 변환하는 시스템이다. 사용자가 웹사이트에 접속할 때 도메인 이름을 입력하면, DNS가 이를 해당 서버의 IP 주소로 변환하여 연결을 돕는다.

## DNS의 역할

1. **도메인 이름을 IP 주소로 변환**
2. **IP 주소를 도메인 이름으로 변환(역방향 조회)**
3. **메일 서버 정보 제공(MX 레코드)**
4. **부하 분산을 위한 다중 IP 매핑**

## DNS 동작 과정

DNS는 계층적인 구조로 동작하며, 다음과 같은 과정을 거친다.

### 1. 사용자의 요청 (DNS Query)

사용자가 `www.example.com`에 접속하려고 하면, 브라우저나 운영체제는 DNS 서버에 해당 도메인의 IP 주소를 요청한다.

### 2. 로컬 DNS 서버 확인

운영체제는 먼저 **로컬 캐시**(기본 저장된 DNS 정보)를 확인하고, 없으면 **ISP(인터넷 서비스 제공업체)의 DNS 서버**에 요청한다.

### 3. 루트 네임서버 조회

로컬 DNS 서버가 해당 정보를 가지고 있지 않으면, **루트 네임서버(Root Name Server)** 에 요청한다. 루트 서버는 `.com`, `.net`과 같은 최상위 도메인(TLD) 네임서버의 위치를 반환한다.

### 4. TLD 네임서버 조회

루트 네임서버로부터 `.com` 도메인을 담당하는 네임서버의 위치를 받고, 해당 서버에 `example.com`에 대한 정보를 요청한다.

### 5. 권한(Authoritative) 네임서버 조회

TLD 네임서버는 최종적으로 `example.com`을 담당하는 **권한 네임서버**를 알려준다. 이 네임서버가 실제 IP 주소를 반환한다.

### 6. 사용자에게 IP 주소 제공

로컬 DNS 서버는 얻은 IP 주소를 사용자에게 반환하고, 사용자는 해당 IP 주소를 이용해 웹사이트에 접속한다.

## DNS 서버의 종류

DNS 서버는 역할에 따라 여러 종류가 있다.

-   **루트 네임서버(Root Name Server)**: 최상위 도메인의 네임서버 정보를 제공한다.
-   **TLD 네임서버(Top Level Domain Name Server)**: `.com`, `.org` 등 최상위 도메인의 정보를 관리한다.
-   **권한 네임서버(Authoritative Name Server)**: 특정 도메인의 최종 IP 정보를 제공한다.
-   **재귀적 DNS 서버(Recursive DNS Server)**: 사용자의 DNS 요청을 처리하고 캐싱하는 역할을 한다.

## DNS 레코드 유형

DNS에는 다양한 레코드 유형이 있으며, 각 레코드는 특정한 역할을 수행한다.

-   **A 레코드**: 도메인을 IPv4 주소로 매핑
-   **AAAA 레코드**: 도메인을 IPv6 주소로 매핑
-   **CNAME 레코드**: 도메인을 다른 도메인으로 매핑
-   **MX 레코드**: 메일 서버 정보를 제공
-   **TXT 레코드**: SPF, DKIM 등 텍스트 정보를 저장

## DNS 캐싱과 TTL

DNS 조회 과정이 매번 반복되면 속도가 느려지므로, **DNS 캐싱**을 사용해 성능을 최적화한다. 캐싱된 정보는 **TTL(Time To Live)** 값에 따라 자동으로 갱신된다.

-   **로컬 캐시**: 사용자의 PC나 브라우저에서 저장
-   **ISP 캐시**: 인터넷 제공업체의 DNS 서버에서 저장
-   **공용 DNS 서버 캐시**: Google DNS(8.8.8.8) 등의 서버에서 저장

## 마치며

DNS는 인터넷에서 필수적인 역할을 하며, 빠른 웹사이트 접속과 안정적인 네트워크 운영을 가능하게 한다.
