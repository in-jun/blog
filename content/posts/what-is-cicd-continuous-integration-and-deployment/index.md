---
title: "CI/CD란 무엇인가?"
date: 2024-06-10T17:14:26+09:00
tags: ["CI", "CD", "지속적 통합", "지속적 배포"]
description: "Extreme Programming에서 유래한 CI/CD의 역사부터 빌드 자동화, 테스트 자동화, Continuous Delivery와 Deployment의 차이, Jenkins와 GitHub Actions 등 도구 비교, 파이프라인 구축 모범 사례까지 정리"
draft: false
---

## CI/CD의 역사와 유래

CI/CD는 Extreme Programming(XP) 방법론에서 유래했다.

### Continuous Integration의 탄생

Continuous Integration이라는 용어는 1994년 UML을 개발한 Grady Booch가 처음 만들었다. 하지만 오늘날 우리가 아는 CI는 1990년대 중반 Kent Beck이 Extreme Programming의 실천 방법 중 하나로 만들었다.

1996년 유명한 Chrysler C3 프로젝트에서 모든 개발자가 지속적 통합을 경험하고 즐기게 되었다.

### CI/CD의 대중화

2000년 Agile Alliance의 창립 멤버 중 한 명인 Martin Fowler가 ThoughtWorks에서 CI의 내부 옹호자가 되었다. 그는 현재 ThoughtWorks의 Chief Scientist로 유명하며 CI/CD 대중화에 크게 기여했다.

### Continuous Delivery의 발전

이후 2000년대 Martin Fowler가 제시한 Continuous Integration 아이디어를 J.Humble과 D.Farley가 확장하여 Continuous Delivery 개념을 배포 파이프라인으로 발전시켰다.

## CI란 무엇인가

CI(Continuous Integration)는 지속적 통합을 의미한다. 여러 개발자가 작성한 코드를 자동으로 통합하고 빌드하며 테스트하는 과정이다.

### CI의 목적

코드 변경이 발생할 때마다 자동으로 빌드와 테스트를 수행한다. 빌드 실패와 버그를 조기에 발견할 수 있도록 돕는다.

### CI의 동작 과정

#### 1. 코드 커밋

개발자가 코드를 수정하여 GitHub 같은 저장소에 커밋한다.

#### 2. 자동 빌드

CI 도구가 자동으로 코드를 가져와 빌드를 수행한다.

빌드 과정에서 발생할 수 있는 문제는 다음과 같다.

- 문법 오류
- 필요한 파일 누락
- 라이브러리 버전 충돌

빌드가 실패하면 개발팀은 즉시 이메일이나 메신저로 알림을 받는다.

#### 3. 자동 테스트

빌드가 성공하면 다양한 테스트를 순차적으로 실행한다.

- 유닛 테스트
- 통합 테스트
- 기능 테스트

코드의 품질과 안정성을 검증한다.

#### 4. 코드 품질 검사

코드 품질 검사 도구를 통해 다음을 점검한다.

- 코딩 규칙 준수 여부
- 잠재적 버그

## CD의 두 가지 의미

CD는 Continuous Delivery와 Continuous Deployment 두 가지 의미를 가진다. 두 개념은 비슷해 보이지만 중요한 차이점이 있다.

### Continuous Delivery (지속적 제공)

모든 코드 변경이 자동화된 빌드와 테스트를 거쳐 항상 프로덕션에 배포할 준비가 되어 있다.

#### 특징

- 실제 릴리스는 수동 승인 후에 발생
- 버튼 클릭만으로 언제든 애플리케이션을 배포할 수 있는 자동화된 릴리스 프로세스를 갖춤

#### 적합한 환경

- 안정성과 비즈니스 프로세스와의 조율이 중요한 환경
- 금융 기관
- 의료 제공자

### Continuous Deployment (지속적 배포)

Continuous Delivery에서 한 단계 더 나아간 개념이다.

#### 특징

- 프로덕션 파이프라인의 모든 단계를 통과한 모든 변경사항이 수동 승인 없이 자동으로 사용자에게 릴리스
- 자동화된 테스트를 통과한 모든 코드 변경이 즉시 사용자에게 제공

#### 적합한 환경

- 빠른 혁신과 최소한의 릴리스 마찰을 원하는 조직
- 스타트업
- SaaS 제공자
- 웹 기반 플랫폼
- 피드백에 대한 빠른 반복의 혜택을 받는 환경

## 주요 CI/CD 도구 비교

### Jenkins

Java 기반 오픈소스로 CI계의 아버지라 불린다.

#### 장점

- 가장 오래된 만큼 다양한 플러그인과 문서가 풍부
- GitHub, GitLab, Bitbucket 등 모든 SCM을 지원
- 대규모 엔터프라이즈 환경에서 깊은 커스터마이징과 제어가 필요할 때 최적

#### 단점

- 빌드 서버를 직접 구매 및 운영해야 함
- 서버 관리, 업데이트, 보안 모니터링이 필요
- 최신 도구들에 비해 오래된 인터페이스

### GitHub Actions

GitHub 저장소와 네이티브로 원활하게 통합된다.

#### 장점

- GitHub Marketplace에서 사전 구축된 액션과 워크플로우에 접근 가능
- GitHub 네이티브 프로젝트와 민첩성에 집중하는 소규모 팀에 이상적

#### 단점

- 주로 GitHub용으로 설계되어 다른 플랫폼에는 덜 직관적
- 무료 티어에 사용 제한이 있음
- 셀프 호스팅 러너 설정이 Jenkins만큼 유연하지 않음

### GitLab CI

GitLab과 긴밀하게 통합되어 포괄적인 DevOps 경험을 제공한다.

#### 장점

- 버전 관리, 이슈 트래킹, DevSecOps를 지원
- 취약점 스캐닝 및 컴플라이언스 도구를 포함
- 클라우드 호스팅과 셀프 호스팅 옵션을 모두 지원
- 모든 티어에 내장된 보안 스캐닝을 갖춘 보안 리더
- 가장 포괄적인 통합 DevOps 경험을 제공

#### 단점

- 비표준 워크플로우의 경우 Jenkins에 비해 유연성이 제한적

### CircleCI

성능 리더로 평가받는다.

#### 장점

- Meta, Adobe, Nextdoor 같은 회사의 신뢰를 받음
- 200만 명 이상의 개발자가 사용
- 빠른 빌드, 우수한 Docker 지원, 포괄적인 캐싱으로 알려짐
- Docker를 네이티브로 지원하여 효율적인 컨테이너화된 빌드 및 테스트 워크플로우를 제공

#### 단점

- 가끔 장애를 경험할 수 있음

## CI/CD 파이프라인 구축 모범 사례

### 지속적인 관리와 개선

CI/CD 파이프라인은 한 번 구축하고 끝나는 것이 아니라 지속적인 관리와 개선이 필요하다. 파이프라인 구성에는 정답이 없으므로 프로젝트 상황에 맞는 모델을 적용하고 지속적으로 발전시켜야 한다.

### 점진적 접근

성공적인 도입을 위해서는 점진적 접근이 중요하다.

- 가장 중요한 프로젝트나 팀부터 시작
- 성공 사례를 만들고 이를 다른 팀에 전파

### 문화적 변화

CI/CD는 단순한 도구가 아닌 새로운 업무 방식이다.

- 팀 전체의 문화적 변화가 필요
- 자동화의 가치와 필요성에 대한 공감대를 형성
- 지속적인 학습과 개선을 장려하는 문화를 만들어야 함

### 성능 최적화

#### 병렬화

- 독립적인 테스트들을 동시에 실행
- 여러 개의 빌드를 동시에 처리할 수 있는 구조를 구축
- 테스트 스위트를 적절히 분할하여 실행 시간을 최적화

#### 캐싱 전략

- 자주 사용되는 의존성 라이브러리를 캐시하여 다운로드 시간을 절약
- 이전 빌드의 결과물을 재활용하여 빌드 시간을 단축

### 모니터링과 개선

파이프라인의 성능과 안정성 지표를 지속적으로 모니터링해야 한다.

- 병목 구간을 식별하여 개선
- 실패율과 빌드 시간 추적

### 도구 선택 가이드

- 소규모 팀의 경우 GitHub Actions가 종종 가장 저렴함
- 규모가 크지 않은 프로젝트거나 외부 클라우드 서비스를 이용하는 상황이라면 Jenkins 말고 다른 서비스도 고려해볼 가치가 있음

## 결론

CI/CD는 1990년대 Extreme Programming에서 유래하여 Kent Beck과 Martin Fowler에 의해 발전된 개발 방법론이다. 빌드 자동화와 테스트 자동화를 통해 코드 품질을 유지하고 배포 과정을 자동화한다.

Continuous Delivery는 수동 승인을 통해 안정성을 보장하고, Continuous Deployment는 완전 자동화로 빠른 릴리스를 실현한다.

Jenkins, GitHub Actions, GitLab CI, CircleCI 등 다양한 도구가 있으며 각각 장단점이 있다. 프로젝트 규모와 요구사항에 맞춰 선택해야 한다.

성공적인 CI/CD 구축을 위해서는 다음이 필수적이다.

- 점진적 접근
- 문화적 변화
- 지속적인 개선
