---
title: "네트워크 스위치 종류와 선택"
date: 2024-08-01T16:20:21+09:00
tags: ["네트워크", "스위치", "하드웨어"]
description: "네트워크 스위치의 종류와 선택 기준을 다룬다."
draft: false
---

네트워크 스위치는 1990년대 초 이더넷 네트워크의 성능 한계를 극복하기 위해 등장한 장비로, 기존 허브가 모든 포트로 데이터를 브로드캐스트하는 방식의 비효율성을 해결하고 목적지 MAC 주소를 기반으로 프레임을 선택적으로 전달하는 기능을 제공하여 현대 네트워크 인프라의 핵심 구성요소가 되었다. OSI(Open Systems Interconnection) 7계층 모델에서 스위치는 작동하는 계층에 따라 L1부터 L7까지 다양한 종류로 분류되며, 각 계층의 스위치는 해당 계층의 프로토콜 정보를 분석하여 트래픽을 처리하는 고유한 특성과 용도를 가진다.

## 네트워크 스위치의 역사적 발전

> **스위치 기술의 탄생 배경**
>
> 1990년대 초반까지 이더넷 네트워크는 허브(Hub)를 사용하여 장치들을 연결했는데, 허브는 수신한 데이터를 모든 포트로 무차별 전송하므로 네트워크 규모가 커질수록 충돌이 빈번해지고 대역폭 활용 효율이 급격히 저하되는 문제가 있었다.

1990년 Kalpana사가 최초의 이더넷 스위치인 EtherSwitch를 출시하면서 스위칭 기술의 상용화가 시작되었으며, 이 장비는 MAC 주소 테이블을 사용하여 프레임을 특정 포트로만 전달함으로써 네트워크 효율성을 획기적으로 향상시켰다. 1994년 Cisco가 Kalpana를 인수하면서 스위칭 기술은 빠르게 엔터프라이즈 네트워크의 표준이 되었고, 이후 VLAN, 스패닝 트리 프로토콜(STP), QoS 등 다양한 기능이 추가되면서 단순한 프레임 전달 장치에서 지능형 네트워크 장비로 발전하게 되었다.

## OSI 계층과 스위치 분류

네트워크 스위치는 OSI 7계층 모델에서 어떤 계층의 정보를 처리하느냐에 따라 분류되며, 상위 계층으로 갈수록 더 많은 프로토콜 정보를 분석하여 정교한 트래픽 제어가 가능하지만 처리 오버헤드도 증가한다.

| 스위치 유형 | OSI 계층 | 처리 단위 | 주요 기능 | 대표 장비 |
|------------|---------|----------|----------|----------|
| **L1 스위치** | 물리 계층 | 비트/신호 | 신호 증폭, 재전송 | 허브, 리피터 |
| **L2 스위치** | 데이터 링크 계층 | 프레임 | MAC 주소 기반 스위칭, VLAN | 일반 스위치 |
| **L3 스위치** | 네트워크 계층 | 패킷 | IP 라우팅, 서브넷 간 통신 | 멀티레이어 스위치 |
| **L4 스위치** | 전송 계층 | 세그먼트 | 포트 기반 로드 밸런싱 | 로드 밸런서 |
| **L7 스위치** | 응용 계층 | 메시지 | 콘텐츠 기반 스위칭, WAF | ADC |

## L1 스위치: 물리 계층 장비

> **L1 스위치(허브)란?**
>
> L1 스위치는 OSI 모델의 물리 계층(Layer 1)에서 동작하는 가장 기본적인 네트워크 장비로, 전기 신호를 증폭하여 모든 포트로 재전송하는 기능만 수행하며 현재는 주로 "허브(Hub)"라는 이름으로 알려져 있다.

허브는 수신한 신호를 해석하거나 필터링하지 않고 단순히 증폭하여 연결된 모든 장치에 브로드캐스트하므로, 모든 포트가 하나의 충돌 도메인(Collision Domain)을 형성하고 두 개 이상의 장치가 동시에 데이터를 전송하면 충돌이 발생하여 CSMA/CD(Carrier Sense Multiple Access with Collision Detection) 메커니즘에 의해 재전송이 필요하게 된다. 이러한 특성으로 인해 연결된 장치 수가 증가할수록 충돌 빈도가 높아지고 유효 대역폭이 급격히 감소하여 현대 네트워크에서는 거의 사용되지 않지만, 네트워크 기본 원리를 이해하는 데 중요한 개념적 의미를 가진다.

### L1 스위치의 특성

| 특성 | 설명 |
|-----|------|
| **신호 처리** | 전기 신호 증폭 및 재생만 수행 |
| **주소 인식** | MAC 주소 인식 불가 |
| **충돌 도메인** | 모든 포트가 단일 충돌 도메인 |
| **대역폭 공유** | 전체 대역폭을 모든 장치가 공유 |
| **비용** | 매우 저렴 |

## L2 스위치: 데이터 링크 계층 장비

> **L2 스위치란?**
>
> L2 스위치는 OSI 모델의 데이터 링크 계층(Layer 2)에서 동작하며, MAC(Media Access Control) 주소를 학습하고 이를 기반으로 프레임을 특정 포트로만 전달하는 가장 일반적인 형태의 네트워크 스위치다.

L2 스위치는 각 포트에 연결된 장치의 MAC 주소를 학습하여 MAC 주소 테이블(CAM 테이블)에 저장하고, 프레임이 도착하면 목적지 MAC 주소를 조회하여 해당 장치가 연결된 포트로만 프레임을 전달함으로써 허브와 달리 각 포트가 독립적인 충돌 도메인을 형성하고 전체 네트워크 효율성을 크게 향상시킨다. 또한 VLAN(Virtual LAN) 기능을 통해 물리적으로 동일한 스위치에 연결된 장치들을 논리적으로 분리된 네트워크로 구성할 수 있어 보안 강화와 브로드캐스트 도메인 분할이 가능하며, 스패닝 트리 프로토콜(STP)을 지원하여 네트워크 루프를 방지하고 링크 이중화를 통한 고가용성을 제공한다.

### L2 스위치의 핵심 기능

| 기능 | 설명 | 효과 |
|-----|------|------|
| **MAC 주소 학습** | 소스 MAC 주소와 포트 매핑 저장 | 목적지 기반 선택적 전달 |
| **프레임 스위칭** | MAC 테이블 기반 포워딩 | 네트워크 효율성 향상 |
| **VLAN** | 논리적 네트워크 분할 | 보안 강화, 브로드캐스트 격리 |
| **STP** | 루프 방지 및 경로 이중화 | 고가용성 제공 |
| **포트 미러링** | 트래픽 복제 및 모니터링 | 네트워크 분석 지원 |

### Managed vs Unmanaged 스위치

L2 스위치는 관리 기능의 유무에 따라 Unmanaged 스위치와 Managed 스위치로 구분되며, Unmanaged 스위치는 별도의 설정 없이 연결만 하면 바로 작동하는 플러그 앤 플레이 방식으로 소규모 네트워크나 가정용으로 적합하고, Managed 스위치는 웹 인터페이스나 CLI(Command Line Interface)를 통해 VLAN, QoS, 포트 보안 등 다양한 설정이 가능하여 기업 환경에서 주로 사용된다.

| 구분 | Unmanaged | Managed |
|-----|-----------|---------|
| **설정** | 불필요 (플러그 앤 플레이) | 웹/CLI 설정 가능 |
| **VLAN** | 미지원 | 지원 |
| **QoS** | 미지원 | 지원 |
| **모니터링** | 제한적 | SNMP, 포트 통계 등 |
| **비용** | 저렴 | 고가 |
| **적합 환경** | 가정, 소규모 사무실 | 기업, 데이터센터 |

## L3 스위치: 네트워크 계층 장비

> **L3 스위치란?**
>
> L3 스위치는 OSI 모델의 네트워크 계층(Layer 3)에서 동작하며, L2 스위치의 모든 기능에 더해 IP 주소를 기반으로 패킷을 라우팅하는 기능을 하드웨어 수준에서 처리하는 멀티레이어 스위치다.

전통적인 라우터가 소프트웨어 기반으로 패킷을 처리하여 속도가 상대적으로 느린 반면, L3 스위치는 ASIC(Application-Specific Integrated Circuit) 칩을 사용하여 하드웨어 수준에서 라우팅을 수행하므로 와이어 스피드(Wire Speed)에 가까운 고속 패킷 처리가 가능하다. L3 스위치는 서로 다른 VLAN이나 서브넷 간의 통신을 가능하게 하고, OSPF, EIGRP, BGP 등 동적 라우팅 프로토콜을 지원하여 대규모 네트워크에서 자동으로 최적의 경로를 계산하고 네트워크 변화에 유연하게 대응할 수 있으며, ACL(Access Control List)을 통한 세밀한 트래픽 필터링과 QoS 정책 적용이 가능하다.

### L3 스위치 vs 라우터

| 비교 항목 | L3 스위치 | 라우터 |
|----------|----------|--------|
| **처리 방식** | 하드웨어(ASIC) | 소프트웨어 |
| **처리 속도** | 와이어 스피드 | 상대적으로 느림 |
| **포트 밀도** | 높음 (24-48포트 일반적) | 낮음 |
| **WAN 인터페이스** | 제한적 | 다양한 WAN 지원 |
| **고급 라우팅** | 제한적 | 풍부한 기능 |
| **적합 환경** | LAN 내부 라우팅 | WAN 연결, 복잡한 라우팅 |

## L4 스위치: 전송 계층 로드 밸런서

> **L4 스위치란?**
>
> L4 스위치는 OSI 모델의 전송 계층(Layer 4)에서 동작하며, TCP/UDP 포트 번호 정보를 분석하여 트래픽을 여러 서버로 분산시키는 로드 밸런싱 기능을 주로 수행한다.

L4 스위치는 1990년대 후반 웹 서비스의 폭발적 성장과 함께 서버 부하 분산의 필요성이 커지면서 등장했으며, 클라이언트 요청을 IP 주소와 포트 번호를 기반으로 분석하여 백엔드 서버 풀(Pool)에 분배함으로써 단일 서버의 과부하를 방지하고 서비스 가용성을 높인다. 로드 밸런싱 알고리즘으로는 라운드 로빈(Round Robin), 가중치 기반(Weighted), 최소 연결(Least Connections), IP 해시(IP Hash) 등이 있으며, 헬스 체크(Health Check) 기능을 통해 장애가 발생한 서버를 자동으로 감지하고 트래픽 분배에서 제외하여 서비스 연속성을 보장한다.

### L4 로드 밸런싱 알고리즘

| 알고리즘 | 설명 | 적합한 상황 |
|---------|------|------------|
| **라운드 로빈** | 순차적으로 서버 할당 | 동일 성능 서버 |
| **가중치 기반** | 서버 성능에 따라 비율 할당 | 이기종 서버 환경 |
| **최소 연결** | 현재 연결 수가 가장 적은 서버 선택 | 연결 시간이 긴 요청 |
| **IP 해시** | 클라이언트 IP 기반 서버 고정 | 세션 지속성 필요 시 |

### L4 스위치의 주요 기능

L4 스위치는 로드 밸런싱 외에도 NAT(Network Address Translation)를 통해 내부 서버의 실제 IP 주소를 숨기고 가상 IP(VIP)로 서비스를 제공하며, 세션 지속성(Session Persistence 또는 Sticky Session) 기능으로 특정 클라이언트의 모든 요청을 동일한 서버로 전달하여 세션 기반 애플리케이션의 정상 작동을 보장한다. 또한 SSL 오프로딩(SSL Offloading) 기능을 지원하여 암호화/복호화 작업을 스위치에서 처리함으로써 백엔드 서버의 CPU 부하를 줄이고, 연결 다중화(Connection Multiplexing)를 통해 서버와의 연결을 재사용하여 연결 설정 오버헤드를 감소시킨다.

## L5-L6 계층: 이론적 분류

> **L5, L6 스위치의 실체**
>
> OSI 모델의 세션 계층(L5)과 표현 계층(L6)에 해당하는 독립적인 스위치 하드웨어는 실제로 거의 존재하지 않으며, 이 계층들의 기능은 대부분 L7 스위치나 ADC(Application Delivery Controller)에 통합되어 제공된다.

세션 계층의 기능인 세션 관리, 연결 설정/해제, 체크포인팅 등과 표현 계층의 기능인 데이터 형식 변환, 암호화/복호화, 압축 등은 현대 네트워크 장비에서 L4 또는 L7 스위치의 부가 기능으로 구현되거나 애플리케이션 레벨에서 처리되는 것이 일반적이다. 따라서 네트워크 장비 선택 시 L5나 L6 스위치를 별도로 고려할 필요는 없으며, L4 로드 밸런서나 L7 ADC의 기능 스펙을 확인하여 필요한 세션 관리 및 데이터 처리 기능이 포함되어 있는지 검토하면 된다.

## L7 스위치: 애플리케이션 계층 장비

> **L7 스위치(ADC)란?**
>
> L7 스위치는 OSI 모델의 응용 계층(Layer 7)에서 동작하며, HTTP 헤더, URL, 쿠키 등 애플리케이션 레벨의 데이터를 분석하여 콘텐츠 기반 스위칭과 고급 보안 기능을 제공하는 장비로, ADC(Application Delivery Controller)라고도 불린다.

L7 스위치는 패킷의 페이로드(Payload)까지 심층 분석하는 DPI(Deep Packet Inspection) 기술을 사용하여 단순한 IP와 포트 정보를 넘어 요청의 실제 내용을 기반으로 트래픽을 처리할 수 있으며, 예를 들어 URL 경로에 따라 다른 서버 그룹으로 트래픽을 라우팅하거나 HTTP 헤더의 특정 값을 기준으로 로드 밸런싱 결정을 내릴 수 있다. 또한 웹 애플리케이션 방화벽(WAF) 기능을 통해 SQL 인젝션, XSS(Cross-Site Scripting), CSRF(Cross-Site Request Forgery) 등 OWASP Top 10 취약점 공격을 탐지하고 차단하며, API 게이트웨이 역할을 수행하여 API 요청의 인증, 속도 제한, 변환 등을 처리할 수 있다.

### L7 스위치의 핵심 기능

| 기능 | 설명 | 효과 |
|-----|------|------|
| **콘텐츠 스위칭** | URL, 헤더, 쿠키 기반 라우팅 | 세밀한 트래픽 제어 |
| **WAF** | 웹 공격 탐지 및 차단 | 애플리케이션 보안 강화 |
| **SSL 종료** | TLS 핸드셰이크 처리 | 서버 부하 감소 |
| **캐싱** | 정적 콘텐츠 캐싱 | 응답 속도 향상 |
| **압축** | HTTP 응답 압축 | 대역폭 절약 |
| **API 게이트웨이** | API 인증, 속도 제한 | API 관리 및 보안 |

### L4 vs L7 로드 밸런싱

| 비교 항목 | L4 로드 밸런싱 | L7 로드 밸런싱 |
|----------|---------------|---------------|
| **분석 정보** | IP, TCP/UDP 포트 | HTTP 헤더, URL, 쿠키 |
| **라우팅 결정** | 연결 단위 | 요청 단위 |
| **처리 속도** | 빠름 | 상대적으로 느림 |
| **기능 범위** | 단순 분산 | 콘텐츠 기반 라우팅 |
| **보안 기능** | 제한적 | WAF, DPI 등 |
| **적합 환경** | 단순 부하 분산 | 복잡한 웹 서비스 |

## 스위치 선택 가이드

네트워크 스위치를 선택할 때는 네트워크 규모, 트래픽 특성, 보안 요구사항, 예산 등을 종합적으로 고려해야 하며, 필요 이상으로 고급 장비를 선택하면 비용 낭비가 되고 기능이 부족한 장비를 선택하면 향후 확장이나 기능 추가에 제약이 생길 수 있다.

| 환경 | 권장 스위치 | 이유 |
|-----|------------|------|
| **가정/소규모 사무실** | Unmanaged L2 | 단순, 저렴, 설정 불필요 |
| **중소기업** | Managed L2 | VLAN, QoS, 모니터링 필요 |
| **대기업 LAN** | L3 스위치 | 서브넷 간 라우팅, 고성능 |
| **웹 서버 팜** | L4 로드 밸런서 | 부하 분산, 고가용성 |
| **복잡한 웹 서비스** | L7 ADC | 콘텐츠 라우팅, WAF |

## 결론

네트워크 스위치는 OSI 계층에 따라 L1 허브부터 L7 ADC까지 다양한 종류가 있으며, 각 계층의 스위치는 해당 계층의 프로토콜 정보를 분석하여 고유한 기능을 제공한다. L1 허브는 단순 신호 증폭만 수행하고, L2 스위치는 MAC 주소 기반 프레임 스위칭과 VLAN을 제공하며, L3 스위치는 IP 라우팅을 하드웨어 수준에서 처리한다. L4 스위치는 TCP/UDP 포트 정보를 기반으로 로드 밸런싱을 수행하고, L7 스위치는 애플리케이션 콘텐츠를 분석하여 정교한 트래픽 제어와 보안 기능을 제공한다. 네트워크 환경의 규모, 트래픽 특성, 보안 요구사항에 따라 적절한 계층의 스위치를 선택하는 것이 효율적인 네트워크 구축의 핵심이다.
